# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–≤–æ–Ω–∫–æ–≤

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç NovoFon
- SIP –ª–æ–≥–∏–Ω
- SIP –ø–∞—Ä–æ–ª—å  
- –¢–≤–æ–π –Ω–æ–º–µ—Ä (Caller ID)

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
cd ~/NovoFon_Bot
sudo bash setup_asterisk_calls.sh
```

–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
- SIP –ª–æ–≥–∏–Ω
- SIP –ø–∞—Ä–æ–ª—å
- Caller ID (—Ç–≤–æ–π –Ω–æ–º–µ—Ä)
- –ü—É–±–ª–∏—á–Ω—ã–π IP (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

#### –ò—Å—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫ (–±–æ—Ç –∑–≤–æ–Ω–∏—Ç —Ç–µ–±–µ):

```bash
curl -X POST http://109.73.192.126/api/calls/initiate \
  -H "Content-Type: application/json" \
  -d '{"phone": "+79991234567"}'
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
- –û—Ç–∫—Ä–æ–π `http://109.73.192.126/docs`
- –ù–∞–π–¥–∏ `POST /api/calls/initiate`
- –í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä –∏ –Ω–∞–∂–º–∏ Execute

#### –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫ (—Ç—ã –∑–≤–æ–Ω–∏—à—å –±–æ—Ç—É):

1. –ù–∞—Å—Ç—Ä–æ–π –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ NovoFon –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –≤—Ö–æ–¥—è—â–∏—Ö –Ω–∞:
   - IP: `109.73.192.126`
   - –ü–æ—Ä—Ç: `5060`

2. –ü–æ–∑–≤–æ–Ω–∏ –Ω–∞ —Å–≤–æ–π –Ω–æ–º–µ—Ä NovoFon

3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
sudo journalctl -u novofon-bot -f

# –õ–æ–≥–∏ Asterisk
sudo tail -f /var/log/asterisk/full

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SIP —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
sudo asterisk -rx "pjsip show endpoints"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ARI
curl -u novofon_bot:novofon_bot_2024 http://localhost:8088/ari/asterisk/info
```

---

## –ü—Ä–æ–±–ª–µ–º—ã?

–°–º–æ—Ç—Ä–∏ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: `docs/SETUP_CALLS.md`

