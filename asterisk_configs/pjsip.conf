;
; PJSIP Configuration для NovoFon SIP транка
; ВАЖНО: Замените значения на ваши данные от NovoFon!
;

;=============== TRANSPORT ===============

[transport-udp]
type = transport
protocol = udp
bind = 0.0.0.0:5060
external_media_address = YOUR_PUBLIC_IP_HERE
external_signaling_address = YOUR_PUBLIC_IP_HERE

;=============== NOVOFON TRUNK ===============

; Endpoint
[novofon]
type = endpoint
context = from-novofon
disallow = all
allow = ulaw
allow = alaw
aors = novofon
auth = novofon
direct_media = no
ice_support = yes
force_rport = yes
rewrite_contact = yes
from_user = YOUR_SIP_LOGIN_HERE
from_domain = sip.novofon.ru

; AOR (Address of Record)
[novofon]
type = aor
; ВАЖНО: Замените на реальный SIP сервер NovoFon
contact = sip:sip.novofon.ru
qualify_frequency = 60

; Authentication
[novofon]
type = auth
auth_type = userpass
; ВАЖНО: Укажите ваши SIP данные от NovoFon
username = YOUR_SIP_LOGIN_HERE
password = YOUR_SIP_PASSWORD_HERE

; Identify (опционально, для входящих)
[novofon]
type = identify
endpoint = novofon
; ВАЖНО: Укажите IP адрес NovoFon SIP сервера
match = IP_ADDRESS_OF_NOVOFON_HERE

;=============== РЕГИСТРАЦИЯ (если нужна) ===============

[novofon-reg]
type = registration
transport = transport-udp
outbound_auth = novofon
server_uri = sip:sip.novofon.ru
client_uri = sip:YOUR_SIP_LOGIN_HERE@sip.novofon.ru
retry_interval = 60

;=============== BARESIP PEER (для обработки звонков) ===============

; Endpoint для baresip
[voicebot]
type = endpoint
context = from-voicebot
disallow = all
allow = ulaw
aors = voicebot
direct_media = no
dtmf_mode = rfc2833

; AOR для baresip
[voicebot]
type = aor
contact = sip:voicebot@127.0.0.1:5060

; Identify для baresip
[voicebot]
type = identify
endpoint = voicebot
match = 127.0.0.1

